{"version":3,"file":"declaration.js","sourceRoot":"","sources":["../../../../../src/lib/serialization/serializers/reflections/declaration.ts"],"names":[],"mappings":";;;AAAA,4CAAwD;AAExD,iDAAiE;AACjE,2CAA4D;AAM5D,MAAa,+BAAgC,SAAQ,0CAAoD;IAGrG,QAAQ,CAAC,CAAU;QACf,OAAO,CAAC,YAAY,8BAAqB,CAAC;IAC9C,CAAC;IAED,QAAQ,CACJ,CAAwB,EACxB,GAA4B;QAE5B,MAAM,MAAM,GAA8B;YACtC,GAAG,GAAG;YACN,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,cAAc,CAAC;YACpD,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC;YACjC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC;YAC7C,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,cAAc,CAAC;SACxD,CAAC;QAEF,IAAI,CAAC,CAAC,YAAY,EAAE;YAChB,MAAM,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;SAC/D;QACD,IAAI,CAAC,CAAC,YAAY,EAAE;YAChB,MAAM,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;SAC/D;QAED,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE;YACzB,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,YAAY,CAAC;YACjD,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC;YAC7C,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC;YACnD,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,gBAAgB,CAAC;YACzD,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC;YACnD,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC;YAC7C,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,gBAAgB,CAAC;YACzD,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC;SACtD,CAAC,CAAC;IACP,CAAC;;AApCL,0EAqCC;AApCU,wCAAQ,GAAG,yCAA6B,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,sCAAsC","sourcesContent":["import { DeclarationReflection } from \"../../../models\";\n\nimport { ReflectionSerializerComponent } from \"../../components\";\nimport { ContainerReflectionSerializer } from \"./container\";\nimport {\n    DeclarationReflection as JSONDeclarationReflection,\n    ContainerReflection as JSONContainerReflection,\n} from \"../../schema\";\n\nexport class DeclarationReflectionSerializer extends ReflectionSerializerComponent<DeclarationReflection> {\n    static PRIORITY = ContainerReflectionSerializer.PRIORITY - 1; // mimic inheritance, run after parent\n\n    supports(t: unknown) {\n        return t instanceof DeclarationReflection;\n    }\n\n    toObject(\n        d: DeclarationReflection,\n        obj: JSONContainerReflection\n    ): JSONDeclarationReflection {\n        const result: JSONDeclarationReflection = {\n            ...obj,\n            typeParameter: this.owner.toObject(d.typeParameters),\n            type: this.owner.toObject(d.type),\n            signatures: this.owner.toObject(d.signatures),\n            indexSignature: this.owner.toObject(d.indexSignature),\n        };\n\n        if (d.getSignature) {\n            result.getSignature = [this.owner.toObject(d.getSignature)];\n        }\n        if (d.setSignature) {\n            result.setSignature = [this.owner.toObject(d.setSignature)];\n        }\n\n        return Object.assign(result, {\n            defaultValue: this.owner.toObject(d.defaultValue),\n            overwrites: this.owner.toObject(d.overwrites),\n            inheritedFrom: this.owner.toObject(d.inheritedFrom),\n            implementationOf: this.owner.toObject(d.implementationOf),\n            extendedTypes: this.owner.toObject(d.extendedTypes),\n            extendedBy: this.owner.toObject(d.extendedBy),\n            implementedTypes: this.owner.toObject(d.implementedTypes),\n            implementedBy: this.owner.toObject(d.implementedBy),\n        });\n    }\n}\n"]}