{"version":3,"file":"reference.js","sourceRoot":"","sources":["../../../../../src/lib/serialization/serializers/reflections/reference.ts"],"names":[],"mappings":";;;AAAA,4CAAsD;AACtD,iDAAiE;AAKjE,+CAAgE;AAEhE,MAAa,6BAA8B,SAAQ,0CAAkD;IAGjG,QAAQ,CAAC,CAAU;QACf,OAAO,CAAC,YAAY,4BAAmB,CAAC;IAC5C,CAAC;IAED,QAAQ,CACJ,GAAwB,EACxB,GAA8B;;QAE9B,OAAO;YACH,GAAG,GAAG;YACN,MAAM,cAAE,GAAG,CAAC,sBAAsB,EAAE,0CAAE,EAAE,mCAAI,CAAC,CAAC;SACjD,CAAC;IACN,CAAC;;AAfL,sEAgBC;AAfU,sCAAQ,GAAG,6CAA+B,CAAC,QAAQ,GAAG,CAAC,CAAC","sourcesContent":["import { ReferenceReflection } from \"../../../models\";\nimport { ReflectionSerializerComponent } from \"../../components\";\nimport {\n    DeclarationReflection as JSONDeclarationReflection,\n    ReferenceReflection as JSONReferenceReflection,\n} from \"../../schema\";\nimport { DeclarationReflectionSerializer } from \"./declaration\";\n\nexport class ReferenceReflectionSerializer extends ReflectionSerializerComponent<ReferenceReflection> {\n    static PRIORITY = DeclarationReflectionSerializer.PRIORITY - 1;\n\n    supports(t: unknown) {\n        return t instanceof ReferenceReflection;\n    }\n\n    toObject(\n        ref: ReferenceReflection,\n        obj: JSONDeclarationReflection\n    ): JSONReferenceReflection {\n        return {\n            ...obj,\n            target: ref.tryGetTargetReflection()?.id ?? -1,\n        };\n    }\n}\n"]}