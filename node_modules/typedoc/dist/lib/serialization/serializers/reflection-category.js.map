{"version":3,"file":"reflection-category.js","sourceRoot":"","sources":["../../../../src/lib/serialization/serializers/reflection-category.ts"],"names":[],"mappings":";;;AAAA,wEAAqE;AAErE,8CAAoD;AAGpD,MAAa,4BAA6B,SAAQ,gCAAuC;IAGrF;;OAEG;IACH,cAAc,CAAC,QAAiB;QAC5B,OAAO,QAAQ,YAAY,uCAAkB,CAAC;IAClD,CAAC;IAED,QAAQ,CAAC,CAAU;QACf,OAAO,CAAC,YAAY,uCAAkB,CAAC;IAC3C,CAAC;IAED,QAAQ,CACJ,QAA4B,EAC5B,GAAqC;QAErC,MAAM,MAAM,GAA2B;YACnC,GAAG,GAAG;YACN,KAAK,EAAE,QAAQ,CAAC,KAAK;SACxB,CAAC;QAEF,IAAI,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACnD,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;SAChE;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;;AA5BL,oEA6BC;AA5BU,qCAAQ,GAAG,IAAI,CAAC","sourcesContent":["import { ReflectionCategory } from \"../../models/ReflectionCategory\";\n\nimport { SerializerComponent } from \"../components\";\nimport { ReflectionCategory as JSONReflectionCategory } from \"../schema\";\n\nexport class ReflectionCategorySerializer extends SerializerComponent<ReflectionCategory> {\n    static PRIORITY = 1000;\n\n    /**\n     * Filter for instances of [[ReflectionCategory]]\n     */\n    serializeGroup(instance: unknown): boolean {\n        return instance instanceof ReflectionCategory;\n    }\n\n    supports(r: unknown) {\n        return r instanceof ReflectionCategory;\n    }\n\n    toObject(\n        category: ReflectionCategory,\n        obj?: Partial<JSONReflectionCategory>\n    ): JSONReflectionCategory {\n        const result: JSONReflectionCategory = {\n            ...obj,\n            title: category.title,\n        };\n\n        if (category.children && category.children.length > 0) {\n            result.children = category.children.map((child) => child.id);\n        }\n\n        return result;\n    }\n}\n"]}